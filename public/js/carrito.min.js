document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".alert-success,.alert-error").forEach(function(e){e.style.opacity=0,setTimeout(()=>{e.style.transition="opacity 0.5s",e.style.opacity=1},100),setTimeout(()=>{e.style.opacity=0},4000)}),document.querySelectorAll(".update-cart-form").forEach(function(e){e.addEventListener("submit",function(t){t.preventDefault();const n=new FormData(e);fetch("carrito.php",{method:"POST",body:n}).then(e=>e.text()).then(t=>{const n=document.createElement("div");n.innerHTML=t;const a=n.querySelector(".alert-success,.alert-error");a&&(e.parentNode.insertBefore(a,e),a.style.opacity=0,setTimeout(()=>{a.style.transition="opacity 0.5s",a.style.opacity=1},100),setTimeout(()=>{a.style.opacity=0,a.remove()},4000))})})}),document.querySelectorAll(".remove-cart-btn").forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();const n=e.closest("form"),a=new FormData(n);a.append("remove","1"),fetch("carrito.php",{method:"POST",body:a}).then(e=>e.text()).then(t=>{const n=document.createElement("div");n.innerHTML=t;const a=n.querySelector(".alert-success,.alert-error");a&&(n.parentNode.insertBefore(a,n),a.style.opacity=0,setTimeout(()=>{a.style.transition="opacity 0.5s",a.style.opacity=1},100),setTimeout(()=>{a.style.opacity=0,a.remove()},4000))})}),e.addEventListener("keyup",function(t){("Enter"===t.key||" "===t.key)&&e.click()})})});